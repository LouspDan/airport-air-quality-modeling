<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation M√©tier - Syst√®me de Surveillance Environnementale A√©roportuaire</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
            margin-bottom: 20px;
        }

        .version-info {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
        }

        .schema-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            min-width: 150px;
            padding: 20px;
            text-align: center;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .tab.active {
            background: white;
            color: #2a5298;
            border-bottom: 3px solid #2a5298;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab-icon {
            font-size: 1.2rem;
        }

        .content {
            padding: 30px;
        }

        .schema-section {
            display: none;
        }

        .schema-section.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .schema-intro {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .schema-intro h2 {
            color: #2a5298;
            margin-bottom: 15px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .schema-intro p {
            color: #495057;
            line-height: 1.8;
        }

        .key-concepts {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .key-concepts h3 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .key-concepts ul {
            list-style: none;
            padding-left: 0;
        }

        .key-concepts li {
            padding: 5px 0;
            color: #856404;
        }

        .key-concepts li:before {
            content: "‚ñ∏ ";
            color: #ffc107;
            font-weight: bold;
            margin-right: 5px;
        }

        .table-doc {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 25px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .table-doc:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #2a5298;
        }

        .table-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .table-icon {
            font-size: 2rem;
            opacity: 0.9;
        }

        .table-title {
            flex: 1;
        }

        .table-name {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .table-purpose {
            font-size: 0.95rem;
            opacity: 0.95;
        }

        .table-body {
            padding: 25px;
        }

        .section {
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 1.1rem;
            color: #2a5298;
            font-weight: 600;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e9ecef;
        }

        .business-context {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .business-context p {
            color: #495057;
            margin-bottom: 10px;
        }

        .fields-grid {
            display: grid;
            gap: 10px;
        }

        .field-item {
            display: grid;
            grid-template-columns: 200px 1fr;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            align-items: start;
        }

        .field-item:hover {
            background: #e9ecef;
        }

        .field-name {
            font-family: 'Courier New', monospace;
            font-weight: 600;
            color: #495057;
            font-size: 0.9rem;
        }

        .field-desc {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .pk-field {
            border-left: 3px solid #ffc107;
        }

        .fk-field {
            border-left: 3px solid #17a2b8;
        }

        .relations-box {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .relations-box h4 {
            color: #004085;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .relation-item {
            padding: 5px 0;
            color: #004085;
            font-size: 0.9rem;
        }

        .relation-item:before {
            content: "üîó ";
            margin-right: 5px;
        }

        .use-cases {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .use-cases h4 {
            color: #155724;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .use-case-item {
            padding: 5px 0;
            color: #155724;
            font-size: 0.9rem;
        }

        .use-case-item:before {
            content: "‚úì ";
            color: #28a745;
            font-weight: bold;
            margin-right: 5px;
        }

        .regulatory-note {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .regulatory-note h4 {
            color: #721c24;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .regulatory-note p {
            color: #721c24;
            font-size: 0.9rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.95;
        }

        .glossary {
            background: #fff;
            border: 2px solid #dee2e6;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .glossary h3 {
            color: #2a5298;
            margin-bottom: 15px;
        }

        .glossary-item {
            display: grid;
            grid-template-columns: 150px 1fr;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .glossary-term {
            font-weight: 600;
            color: #495057;
        }

        .glossary-def {
            color: #6c757d;
        }

        @media (max-width: 768px) {
            .field-item {
                grid-template-columns: 1fr;
                gap: 5px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .glossary-item {
                grid-template-columns: 1fr;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìñ Documentation M√©tier du Mod√®le de Donn√©es</h1>
            <p>Guide complet des concepts et structures de donn√©es du syst√®me de surveillance environnementale</p>
            <span class="version-info">Version 4.0 | Migration V003 Acoustique | OACI Annexe 16</span>
        </div>

        <div class="schema-tabs">
            <button class="tab active" onclick="showSchema('airport')">
                <span class="tab-icon">‚úàÔ∏è</span>
                <span>AIRPORT</span>
            </button>
            <button class="tab" onclick="showSchema('air_quality')">
                <span class="tab-icon">üåç</span>
                <span>AIR_QUALITY</span>
            </button>
            <button class="tab" onclick="showSchema('acoustique')">
                <span class="tab-icon">üîä</span>
                <span>ACOUSTIQUE</span>
            </button>
            <button class="tab" onclick="showSchema('analytics')">
                <span class="tab-icon">üìä</span>
                <span>ANALYTICS</span>
            </button>
        </div>

        <div class="content">
            <!-- SCH√âMA AIRPORT -->
            <div id="airport" class="schema-section active">
                <div class="schema-intro">
                    <h2>‚úàÔ∏è Sch√©ma AIRPORT - Gestion des Op√©rations A√©roportuaires</h2>
                    <p>
                        Le sch√©ma AIRPORT constitue le c≈ìur op√©rationnel du syst√®me. Il mod√©lise l'ensemble des entit√©s 
                        n√©cessaires √† la gestion du trafic a√©rien et des infrastructures a√©roportuaires. Ce sch√©ma est 
                        con√ßu selon les standards de l'OACI (Organisation de l'Aviation Civile Internationale) et int√®gre 
                        les sp√©cificit√©s r√©glementaires europ√©ennes.
                    </p>
                </div>

                <div class="key-concepts">
                    <h3>üîë Concepts M√©tiers Cl√©s</h3>
                    <ul>
                        <li><strong>Cycle LTO (Landing and Take-Off)</strong> : Phases standardis√©es d'un vol sous 3000 pieds</li>
                        <li><strong>Codes IATA/ICAO</strong> : Identifiants internationaux normalis√©s</li>
                        <li><strong>Wake Turbulence Category</strong> : Classification selon la turbulence de sillage</li>
                        <li><strong>Phase de vol</strong> : D√©coupage op√©rationnel pour calculs d'√©missions</li>
                    </ul>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">9</div>
                        <div class="stat-label">Tables principales</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">14</div>
                        <div class="stat-label">Relations</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Conformit√© OACI</div>
                    </div>
                </div>

                <!-- Table AEROPORT -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üè¢</span>
                        <div class="table-title">
                            <div class="table-name">AEROPORT</div>
                            <div class="table-purpose">R√©f√©rentiel central des infrastructures a√©roportuaires</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>R√¥le :</strong> Table ma√Ætre d√©finissant chaque a√©roport avec ses caract√©ristiques g√©ographiques 
                                    et op√©rationnelles. Sert de point d'ancrage pour toutes les mesures environnementales.
                                </p>
                                <p>
                                    <strong>Importance :</strong> Les coordonn√©es GPS permettent les calculs de dispersion atmosph√©rique, 
                                    l'altitude influence les performances des a√©ronefs et les √©missions.
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Champs Principaux</div>
                            <div class="fields-grid">
                                <div class="field-item pk-field">
                                    <span class="field-name">id_aeroport</span>
                                    <span class="field-desc">Identifiant unique UUID garantissant l'unicit√© mondiale</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">code_iata</span>
                                    <span class="field-desc">Code 3 lettres (ex: CDG) utilis√© commercialement</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">code_icao</span>
                                    <span class="field-desc">Code 4 lettres (ex: LFPG) standard aviation civile</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">coordonnees_gps</span>
                                    <span class="field-desc">Point g√©ographique PostGIS pour calculs spatiaux</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">altitude_m</span>
                                    <span class="field-desc">√âl√©vation influen√ßant pression atmosph√©rique et performances</span>
                                </div>
                            </div>
                        </div>

                        <div class="relations-box">
                            <h4>Relations avec autres tables</h4>
                            <div class="relation-item">Relie √† TERMINAL (1:N) - Un a√©roport poss√®de plusieurs terminaux</div>
                            <div class="relation-item">Relie √† PISTE (1:N) - Un a√©roport poss√®de plusieurs pistes</div>
                            <div class="relation-item">Relie √† VOL (1:N) - Point d'origine et destination des vols</div>
                        </div>

                        <div class="use-cases">
                            <h4>Cas d'Usage</h4>
                            <div class="use-case-item">G√©olocalisation des sources d'√©mission</div>
                            <div class="use-case-item">Calcul des zones d'impact environnemental</div>
                            <div class="use-case-item">Reporting r√©glementaire par plateforme</div>
                        </div>
                    </div>
                </div>

                <!-- Table VOL -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">‚úàÔ∏è</span>
                        <div class="table-title">
                            <div class="table-name">VOL</div>
                            <div class="table-purpose">Entit√© centrale des mouvements a√©riens</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>R√¥le :</strong> Enregistre chaque mouvement d'a√©ronef avec ses caract√©ristiques op√©rationnelles. 
                                    Table pivot pour le calcul des √©missions et l'analyse du trafic.
                                </p>
                                <p>
                                    <strong>Cycle de vie :</strong> Un vol passe par diff√©rents statuts (Programm√© ‚Üí En vol ‚Üí Atterri) 
                                    et g√©n√®re des donn√©es √† chaque phase pour les calculs environnementaux.
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Champs Principaux</div>
                            <div class="fields-grid">
                                <div class="field-item pk-field">
                                    <span class="field-name">id_vol</span>
                                    <span class="field-desc">Identifiant unique pour tra√ßabilit√© compl√®te</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">numero_vol</span>
                                    <span class="field-desc">Code commercial (ex: AF1234) visible passagers</span>
                                </div>
                                <div class="field-item fk-field">
                                    <span class="field-name">id_type_aeronef</span>
                                    <span class="field-desc">Lien vers caract√©ristiques techniques avion</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">nb_passagers</span>
                                    <span class="field-desc">Charge utile influen√ßant consommation</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">poids_carburant_kg</span>
                                    <span class="field-desc">Masse k√©ros√®ne pour calcul √©missions CO2</span>
                                </div>
                            </div>
                        </div>

                        <div class="relations-box">
                            <h4>Relations avec autres tables</h4>
                            <div class="relation-item">Li√© √† COMPAGNIE (N:1) - Op√©rateur du vol</div>
                            <div class="relation-item">Li√© √† AERONEF_TYPE (N:1) - Type d'appareil utilis√©</div>
                            <div class="relation-item">Li√© √† PHASE_VOL (1:N) - D√©composition en phases LTO</div>
                            <div class="relation-item">Li√© √† EMISSION_CALCULEE (1:N) - √âmissions g√©n√©r√©es</div>
                        </div>

                        <div class="regulatory-note">
                            <h4>‚öñÔ∏è Conformit√© R√©glementaire</h4>
                            <p>
                                Les donn√©es de vol sont soumises au r√®glement EU 598/2014 sur les restrictions d'exploitation. 
                                La tra√ßabilit√© compl√®te est requise pour les audits DGAC et les rapports ACI Europe.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Table PHASE_VOL -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üìä</span>
                        <div class="table-title">
                            <div class="table-name">PHASE_VOL</div>
                            <div class="table-purpose">D√©composition LTO pour calculs d'√©missions</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>Concept LTO :</strong> Le cycle Landing and Take-Off d√©finit les phases sous 3000 pieds 
                                    o√π les √©missions impactent directement la qualit√© de l'air locale.
                                </p>
                                <p>
                                    <strong>Phases standards OACI :</strong>
                                    ‚Ä¢ Taxi-out (7 min) ‚Ä¢ Take-off (0.7 min) ‚Ä¢ Climb-out (2.2 min)
                                    ‚Ä¢ Approach (4 min) ‚Ä¢ Landing (0.5 min) ‚Ä¢ Taxi-in (7 min)
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Champs Principaux</div>
                            <div class="fields-grid">
                                <div class="field-item">
                                    <span class="field-name">type_phase</span>
                                    <span class="field-desc">Classification OACI (taxi, take-off, climb...)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">duree_minutes</span>
                                    <span class="field-desc">Temps en phase, base du calcul √©missions</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">regime_moteur_%</span>
                                    <span class="field-desc">Puissance moteur (7% taxi, 100% take-off)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">consommation_fuel_kg</span>
                                    <span class="field-desc">K√©ros√®ne br√ªl√© durant la phase</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">position_gps</span>
                                    <span class="field-desc">Localisation pour dispersion atmosph√©rique</span>
                                </div>
                            </div>
                        </div>

                        <div class="use-cases">
                            <h4>Applications M√©tier</h4>
                            <div class="use-case-item">Calcul pr√©cis des √©missions par phase</div>
                            <div class="use-case-item">Optimisation des temps de roulage</div>
                            <div class="use-case-item">Analyse des hot-spots d'√©missions</div>
                            <div class="use-case-item">Conformit√© inventaire OACI/DEFRA</div>
                        </div>
                    </div>
                </div>

                <!-- Table AERONEF_TYPE -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üõ©Ô∏è</span>
                        <div class="table-title">
                            <div class="table-name">AERONEF_TYPE</div>
                            <div class="table-purpose">R√©f√©rentiel des types d'a√©ronefs</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>Classification OACI :</strong> Chaque type d'a√©ronef poss√®de une d√©signation unique 
                                    (ex: A320 pour Airbus A320) utilis√©e mondialement pour l'identification.
                                </p>
                                <p>
                                    <strong>Wake Category :</strong> Classification selon la masse maximale au d√©collage (MTOW) :
                                    Light < 7t, Medium < 136t, Heavy < 560t, Super ‚â• 560t (A380)
                                </p>
                            </div>
                        </div>

                        <div class="relations-box">
                            <h4>Relations critiques</h4>
                            <div class="relation-item">Li√© √† PROFIL_ACOUSTIQUE_AERONEF - Caract√©ristiques bruit</div>
                            <div class="relation-item">Li√© √† MOTEUR_TYPE via AERONEF_MOTEUR - Configuration moteurs</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SCH√âMA AIR_QUALITY -->
            <div id="air_quality" class="schema-section">
                <div class="schema-intro">
                    <h2>üåç Sch√©ma AIR_QUALITY - Surveillance de la Qualit√© de l'Air</h2>
                    <p>
                        Le sch√©ma AIR_QUALITY g√®re l'ensemble du processus de surveillance et de calcul des √©missions atmosph√©riques. 
                        Il int√®gre les m√©thodologies de calcul certifi√©es (ICAO, DEFRA, EPA) et assure la tra√ßabilit√© compl√®te 
                        des polluants √©mis par l'activit√© a√©roportuaire.
                    </p>
                </div>

                <div class="key-concepts">
                    <h3>üîë Concepts M√©tiers Cl√©s</h3>
                    <ul>
                        <li><strong>Facteurs d'√©mission</strong> : Coefficients certifi√©s par type de moteur et r√©gime</li>
                        <li><strong>Polluants surveill√©s</strong> : CO2, NOx, PM10, PM2.5, SOx, HC, CO</li>
                        <li><strong>M√©thodologie Tier</strong> : Niveaux de pr√©cision (Tier 1 simple, Tier 3A avanc√©)</li>
                        <li><strong>Dispersion atmosph√©rique</strong> : Mod√©lisation de la propagation des polluants</li>
                    </ul>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">5</div>
                        <div class="stat-label">Tables principales</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">7</div>
                        <div class="stat-label">Polluants suivis</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Surveillance continue</div>
                    </div>
                </div>

                <!-- Table STATION_MESURE -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üì°</span>
                        <div class="table-title">
                            <div class="table-name">STATION_MESURE</div>
                            <div class="table-purpose">R√©seau de capteurs qualit√© de l'air</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>R√©seau de surveillance :</strong> Stations automatiques mesurant en continu les concentrations 
                                    de polluants atmosph√©riques selon la directive 2008/50/CE sur la qualit√© de l'air ambiant.
                                </p>
                                <p>
                                    <strong>Types de stations :</strong> Trafic (proximit√© pistes), Fond urbain (impact global), 
                                    Industrielle (zones fret), P√©rim√©trique (limites a√©roport)
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Champs Principaux</div>
                            <div class="fields-grid">
                                <div class="field-item">
                                    <span class="field-name">type_station</span>
                                    <span class="field-desc">Classification selon directive EU (trafic/fond/industrielle)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">polluants_mesures[]</span>
                                    <span class="field-desc">Array des polluants surveill√©s (NO2, PM10, O3...)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">methode_mesure</span>
                                    <span class="field-desc">Technologie utilis√©e (chimiluminescence, gravim√©trie...)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">incertitude_%</span>
                                    <span class="field-desc">Marge d'erreur certifi√©e (max 15% pour NO2)</span>
                                </div>
                            </div>
                        </div>

                        <div class="regulatory-note">
                            <h4>‚öñÔ∏è Exigences R√©glementaires</h4>
                            <p>
                                Conformit√© obligatoire avec EN 14211 (NOx), EN 12341 (PM10), EN 14625 (O3). 
                                Transmission horaire vers base PREV'AIR nationale. Seuils d'alerte selon arr√™t√© pr√©fectoral.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Table FACTEUR_EMISSION_ICAO -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üî•</span>
                        <div class="table-title">
                            <div class="table-name">FACTEUR_EMISSION_ICAO</div>
                            <div class="table-purpose">Base de donn√©es des √©missions certifi√©es moteurs</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>Source ICAO :</strong> Facteurs d'√©mission issus de la banque de donn√©es ICAO Engine Emissions 
                                    Databank, mise √† jour trimestriellement avec les certifications des nouveaux moteurs.
                                </p>
                                <p>
                                    <strong>R√©gimes moteur standards :</strong>
                                    ‚Ä¢ Idle/Taxi: 7% ‚Ä¢ Approach: 30% ‚Ä¢ Climb-out: 85% ‚Ä¢ Take-off: 100%
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Donn√©es Critiques</div>
                            <div class="fields-grid">
                                <div class="field-item">
                                    <span class="field-name">facteur_nox_g_kg</span>
                                    <span class="field-desc">Oxydes d'azote en g/kg fuel (critique pour qualit√© air local)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">facteur_pm_g_kg</span>
                                    <span class="field-desc">Particules fines, impact sanitaire majeur</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">smoke_number</span>
                                    <span class="field-desc">Indice de fum√©e visible (r√©glementation Chapter 2)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">debit_carburant_kg_s</span>
                                    <span class="field-desc">Consommation par r√©gime pour calcul total √©missions</span>
                                </div>
                            </div>
                        </div>

                        <div class="use-cases">
                            <h4>Applications</h4>
                            <div class="use-case-item">Calcul inventaire √©missions annuel (obligation DGAC)</div>
                            <div class="use-case-item">Mod√©lisation dispersion pour √©tudes d'impact</div>
                            <div class="use-case-item">Taxe carbone et reporting RSE</div>
                        </div>
                    </div>
                </div>

                <!-- Table EMISSION_CALCULEE -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üí®</span>
                        <div class="table-title">
                            <div class="table-name">EMISSION_CALCULEE</div>
                            <div class="table-purpose">R√©sultats des calculs d'√©missions par source</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>M√©thodologies de calcul :</strong> Application des m√©thodes certifi√©es ICAO (Doc 9889), 
                                    DEFRA GHG Conversion Factors, et EPA AP-42 selon le type de source et le polluant.
                                </p>
                                <p>
                                    <strong>Sources d'√©mission :</strong> A√©ronefs (85%), APU (8%), GSE v√©hicules sol (5%), 
                                    Infrastructures (2%). Chaque source a sa m√©thodologie sp√©cifique.
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Tra√ßabilit√© des Calculs</div>
                            <div class="fields-grid">
                                <div class="field-item">
                                    <span class="field-name">methode_calcul</span>
                                    <span class="field-desc">Tier1_ICAO, Tier3A_Advanced, DEFRA_2024...</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">incertitude_calcul_%</span>
                                    <span class="field-desc">Marge d'erreur selon m√©thode (5-20%)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">coordonnees_emission</span>
                                    <span class="field-desc">Point GPS pour mod√©lisation dispersion</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">timestamp_calcul</span>
                                    <span class="field-desc">Horodatage pour audit trail complet</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SCH√âMA ACOUSTIQUE -->
            <div id="acoustique" class="schema-section">
                <div class="schema-intro">
                    <h2>üîä Sch√©ma ACOUSTIQUE - Surveillance du Bruit A√©ronautique</h2>
                    <p>
                        Le sch√©ma ACOUSTIQUE impl√©mente un syst√®me complet de surveillance et mod√©lisation du bruit a√©ronautique 
                        conforme √† l'OACI Annexe 16 et √† la directive europ√©enne 2002/49/CE. Il permet le calcul des indicateurs 
                        r√©glementaires Lden/Lnight et la gestion des Plans d'Exposition au Bruit (PEB).
                    </p>
                </div>

                <div class="key-concepts">
                    <h3>üîë Concepts M√©tiers Cl√©s</h3>
                    <ul>
                        <li><strong>Indicateur Lden</strong> : Level day-evening-night avec pond√©rations +5dB soir, +10dB nuit</li>
                        <li><strong>Certification Chapter</strong> : Niveaux de bruit certifi√©s (Chapter 3, 4, 14)</li>
                        <li><strong>ECAC Doc 29</strong> : M√©thodologie europ√©enne de calcul d'empreinte acoustique</li>
                        <li><strong>Zones PEB</strong> : A (>70 dB), B (65-70 dB), C (55-65 dB), D (<55 dB)</li>
                        <li><strong>EPNdB</strong> : Effective Perceived Noise in decibels (m√©trique OACI)</li>
                    </ul>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">5</div>
                        <div class="stat-label">Tables sp√©cialis√©es</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Monitoring continu</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">¬±2dB</div>
                        <div class="stat-label">Pr√©cision calculs</div>
                    </div>
                </div>

                <!-- Table PROFIL_ACOUSTIQUE_AERONEF -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üìã</span>
                        <div class="table-title">
                            <div class="table-name">PROFIL_ACOUSTIQUE_AERONEF</div>
                            <div class="table-purpose">Caract√©ristiques acoustiques certifi√©es par type d'a√©ronef</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>Certification OACI :</strong> Chaque type d'a√©ronef est certifi√© selon l'Annexe 16 Volume I 
                                    avec trois points de mesure : lat√©ral (450m), survol (6.5km), approche (2km du seuil).
                                </p>
                                <p>
                                    <strong>√âvolution des normes :</strong> Chapter 2 (interdit EU), Chapter 3 (phase-out progressif), 
                                    Chapter 4 (standard actuel, -10 EPNdB cumul√©), Chapter 14 (nouveau, 2017+, -17 EPNdB).
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Donn√©es Acoustiques</div>
                            <div class="fields-grid">
                                <div class="field-item">
                                    <span class="field-name">niveau_certification_epndb</span>
                                    <span class="field-desc">Niveau certifi√© en EPNdB (Effective Perceived Noise)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">marge_cumulative_epndb</span>
                                    <span class="field-desc">Marge par rapport aux limites Chapter (performance acoustique)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">bruit_decollage_dba</span>
                                    <span class="field-desc">Niveau √† 1000m, pleine puissance (85-95 dBA typique)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">frequence_dominante_hz</span>
                                    <span class="field-desc">Fr√©quence principale pour absorption atmosph√©rique</span>
                                </div>
                            </div>
                        </div>

                        <div class="regulatory-note">
                            <h4>‚öñÔ∏è Cadre R√©glementaire</h4>
                            <p>
                                R√®glement EU 598/2014 sur les restrictions d'exploitation li√©es au bruit. 
                                Les a√©ronefs marginalement conformes Chapter 3 sont progressivement interdits. 
                                Bonus/malus sur redevances selon performance acoustique.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Table STATION_MESURE_BRUIT -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üé§</span>
                        <div class="table-title">
                            <div class="table-name">STATION_MESURE_BRUIT</div>
                            <div class="table-purpose">R√©seau de sonom√®tres permanents</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>R√©seau de surveillance :</strong> Sonom√®tres classe 1 (IEC 61672) positionn√©s strat√©giquement 
                                    pour capturer l'impact acoustique. Transmission temps r√©el vers syst√®me central.
                                </p>
                                <p>
                                    <strong>Zones r√©glementaires PEB :</strong> Positionnement dans zones A/B/C du Plan d'Exposition au Bruit 
                                    pour validation des courbes isophones et suivi des d√©passements.
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Param√®tres Techniques</div>
                            <div class="fields-grid">
                                <div class="field-item">
                                    <span class="field-name">classe_precision</span>
                                    <span class="field-desc">Classe 1 (¬±0.7dB) ou 2 (¬±1.5dB) selon IEC 61672</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">seuil_declenchement_dba</span>
                                    <span class="field-desc">Niveau d√©clenchant enregistrement √©v√©nement (55-65 dBA)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">hauteur_microphone_m</span>
                                    <span class="field-desc">Standard 4m ou 6m selon environnement</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">etablissements_sensibles[]</span>
                                    <span class="field-desc">√âcoles, h√¥pitaux √† proximit√© n√©cessitant vigilance</span>
                                </div>
                            </div>
                        </div>

                        <div class="use-cases">
                            <h4>Missions</h4>
                            <div class="use-case-item">Validation conformit√© trajectoires (proc√©dures antibruit)</div>
                            <div class="use-case-item">D√©tection automatique d√©passements seuils</div>
                            <div class="use-case-item">Calcul indicateurs Lden/Lnight r√©glementaires</div>
                            <div class="use-case-item">Traitement plaintes riverains avec donn√©es factuelles</div>
                        </div>
                    </div>
                </div>

                <!-- Table MESURE_BRUIT -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üìä</span>
                        <div class="table-title">
                            <div class="table-name">MESURE_BRUIT</div>
                            <div class="table-purpose">Enregistrements acoustiques et corr√©lation vol</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>M√©triques acoustiques :</strong> LAmax (niveau max √©v√©nement), LAeq (niveau √©quivalent), 
                                    LA10/LA90 (indices statistiques), SEL (Sound Exposure Level int√©gr√©).
                                </p>
                                <p>
                                    <strong>Corr√©lation automatique :</strong> Algorithme de rapprochement avec trajectoires radar 
                                    pour identifier le vol responsable (certitude 0-1 selon crit√®res spatio-temporels).
                                </p>
                            </div>
                        </div>

                        <div class="section">
                            <div class="section-title">üîß Indicateurs Cl√©s</div>
                            <div class="fields-grid">
                                <div class="field-item">
                                    <span class="field-name">lamax_dba</span>
                                    <span class="field-desc">Pic de bruit de l'√©v√©nement (seuil alerte >80 dBA nuit)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">duree_evenement_s</span>
                                    <span class="field-desc">Dur√©e au-dessus du seuil (√©mergence +10dB)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">correlation_certitude</span>
                                    <span class="field-desc">Confiance attribution vol (>0.8 = haute certitude)</span>
                                </div>
                                <div class="field-item">
                                    <span class="field-name">type_evenement</span>
                                    <span class="field-desc">Classification source (A√©ronef/Route/Train/Autre)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Table ZONE_EXPOSITION_BRUIT -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üó∫Ô∏è</span>
                        <div class="table-title">
                            <div class="table-name">ZONE_EXPOSITION_BRUIT</div>
                            <div class="table-purpose">Cartographie r√©glementaire PEB</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>Plan d'Exposition au Bruit :</strong> Document d'urbanisme opposable d√©limitant les zones 
                                    de restrictions de construction selon l'exposition sonore pr√©visionnelle √† long terme.
                                </p>
                                <p>
                                    <strong>Zones r√©glementaires :</strong>
                                    Zone A (Lden >70) : Inconstructible sauf a√©ro
                                    Zone B (65-70) : Habitat interdit
                                    Zone C (55-65) : Construction limit√©e avec isolation
                                    Zone D (50-55) : Information obligatoire
                                </p>
                            </div>
                        </div>

                        <div class="regulatory-note">
                            <h4>‚öñÔ∏è Impact Urbanistique</h4>
                            <p>
                                Code urbanisme L147-5 : Le PEB s'impose aux PLU. R√©vision quinquennale obligatoire. 
                                10 millions de riverains concern√©s en France. Indemnisation possible zone A/B.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SCH√âMA ANALYTICS -->
            <div id="analytics" class="schema-section">
                <div class="schema-intro">
                    <h2>üìä Sch√©ma ANALYTICS - Audit et Performance</h2>
                    <p>
                        Le sch√©ma ANALYTICS assure la tra√ßabilit√© compl√®te du syst√®me et le monitoring des performances. 
                        Il r√©pond aux exigences d'audit r√©glementaire et permet l'optimisation continue des processus de calcul.
                    </p>
                </div>

                <div class="key-concepts">
                    <h3>üîë Concepts M√©tiers Cl√©s</h3>
                    <ul>
                        <li><strong>Audit Trail</strong> : Tra√ßabilit√© compl√®te pour conformit√© RGPD et audits DGAC</li>
                        <li><strong>Performance Monitoring</strong> : Surveillance temps r√©el des calculs complexes</li>
                        <li><strong>Data Lineage</strong> : Tra√ßage de l'origine et transformation des donn√©es</li>
                        <li><strong>Compliance Reporting</strong> : G√©n√©ration automatique rapports r√©glementaires</li>
                    </ul>
                </div>

                <!-- Table AUDIT_LOG -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">üìù</span>
                        <div class="table-title">
                            <div class="table-name">AUDIT_LOG</div>
                            <div class="table-purpose">Journal d'audit complet</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>Exigences l√©gales :</strong> Conservation 5 ans minimum pour audits DGAC. 
                                    Capture automatique par triggers PostgreSQL de toute modification.
                                </p>
                                <p>
                                    <strong>JSONB pour flexibilit√© :</strong> Stockage des anciennes/nouvelles valeurs en JSONB 
                                    permettant requ√™tes complexes et reconstitution d'√©tats ant√©rieurs.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Table PERFORMANCE_CALCUL -->
                <div class="table-doc">
                    <div class="table-header">
                        <span class="table-icon">‚ö°</span>
                        <div class="table-title">
                            <div class="table-name">PERFORMANCE_CALCUL</div>
                            <div class="table-purpose">M√©triques de performance syst√®me</div>
                        </div>
                    </div>
                    <div class="table-body">
                        <div class="section">
                            <div class="section-title">üìã Contexte M√©tier</div>
                            <div class="business-context">
                                <p>
                                    <strong>SLA Monitoring :</strong> Surveillance respect des engagements de service 
                                    (calculs <5min pour 10000 vols, disponibilit√© 99.9%).
                                </p>
                                <p>
                                    <strong>Optimisation continue :</strong> Identification des goulots d'√©tranglement, 
                                    pr√©diction besoins ressources, alertes proactives.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Glossaire global -->
        <div style="padding: 30px;">
            <div class="glossary">
                <h3>üìñ Glossaire des Termes Techniques</h3>
                <div class="glossary-item">
                    <span class="glossary-term">Lden</span>
                    <span class="glossary-def">Level day-evening-night, indicateur europ√©en de bruit avec pond√©rations</span>
                </div>
                <div class="glossary-item">
                    <span class="glossary-term">EPNdB</span>
                    <span class="glossary-def">Effective Perceived Noise in decibels, m√©trique OACI pour certification</span>
                </div>
                <div class="glossary-item">
                    <span class="glossary-term">LTO Cycle</span>
                    <span class="glossary-def">Landing and Take-Off, phases sous 3000 pieds pour calculs √©missions locales</span>
                </div>
                <div class="glossary-item">
                    <span class="glossary-term">Chapter 3/4/14</span>
                    <span class="glossary-def">Niveaux de certification acoustique OACI, progressivement plus stricts</span>
                </div>
                <div class="glossary-item">
                    <span class="glossary-term">PEB</span>
                    <span class="glossary-def">Plan d'Exposition au Bruit, document d'urbanisme r√©glementaire</span>
                </div>
                <div class="glossary-item">
                    <span class="glossary-term">MTOW</span>
                    <span class="glossary-def">Maximum Take-Off Weight, masse maximale au d√©collage certifi√©e</span>
                </div>
                <div class="glossary-item">
                    <span class="glossary-term">APU</span>
                    <span class="glossary-def">Auxiliary Power Unit, groupe auxiliaire de puissance (source √©missions au sol)</span>
                </div>
                <div class="glossary-item">
                    <span class="glossary-term">GSE</span>
                    <span class="glossary-def">Ground Support Equipment, v√©hicules et √©quipements de piste</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSchema(schemaName) {
            // Cacher toutes les sections
            document.querySelectorAll('.schema-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Retirer la classe active de tous les tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Afficher la section s√©lectionn√©e
            document.getElementById(schemaName).classList.add('active');
            
            // Activer le tab correspondant
            event.target.classList.add('active');
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Animation au chargement
        document.addEventListener('DOMContentLoaded', function() {
            const tables = document.querySelectorAll('.table-doc');
            tables.forEach((table, index) => {
                table.style.opacity = '0';
                table.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    table.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    table.style.opacity = '1';
                    table.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>